<!DOCTYPE HTML>
<html>
<head>
    <title>XSC EOC MESSAGE FORM (ICS-213-SCCo)</title>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <!-- Message Form Ver 4.x, 09/01/17: Converted to JS: format for pacreaad.
         The notes below are retained from the original version to the JS: version
         Removed requirement to check send/received and how sent, 11/05/07
         Set Font color RED for required input - 11/11/07
         Added limit print feature, 10/17/09
         Added Bold Stylesheet command for form fields, 11/8/09
         Added feature to count Textarea lines and expand rows if required, 2/7/10.
         Added reply button and blocked extranious text for printing.
         4/16/10 - Added: Datetime call in resetforms, upcase msg nos.;
         7/19/10 - Blured message Nos.
         12/03/10 - Added Query String function to accept parameters as a test
         01/10/11 - Added Dropdown option for To and From ICS Positions
         01/11/11 - Added "hr1 = "0".hr1;" to datetime function if hr1<10.
         01/11/11 - Added parameter to datetime so  that operator date/time is updated
                    upon submit, but not date/time at top of form.
         01/12/11 - Updated text in ICS To/From butons, added text at Op. time/date.
         01/14/11 - Fixed odate, otime (lower right of form) to be uneditable, but
                    updated when form is submitted. (Add PR34 to # ver. rec.)
         01/15/11 - Added test to NOT print empty fields, removed non-essential # records.
         04/24/11 - Added code to geturl() to eliminate CGI info
         02/12/12 - Added style:display IDs to display ordate and ortime from outpost.
         12/30/12 - Added JSver & JSid, ver. 2.3.6, Rel. 3.8
         Modified  by J Clark to work with FF 2 on W2K, 1/10/13
         02/26/13 - Modified textarea LF flag from Inv. ? to \n for 7 bit problem
         07/09/13 - Changed trim: user '] to ''] and ] to ']; all reversed thru pac-read
         07/15/13 by HPH, added a fix to trim to add a blank to the end of the string if a
            backtick is the last character
         07/19/13 - Changed Version to PR-3.9-n.n.n
         07/23/12 by HPH, Added command to unwrap to convert inverted ? to \n for input from old forms
         08/11/13 by HPH Added a test for Replying to a received message in trim
         09/23/14 by HPH No change, modified Version to 4.0
         10/1/14 by HPH, change Receiving to Receiver's in "When Sending Message" msg. no, field
         10/27/14 by HPH, Fixed typo "Senders's" to "Sender's"
         01/11/15 by HPH, Fixed JS function geturl to remove problem with a slash in Outpost ID user name
         05/12/16 by MEF - Eliminated deprecated <font> tag; All fonts now controlled by CSS
                         - Explicitly declared user input fonts for more consistent rendering on more browsers
                         - Adjusted field widths on date and time fields
                         - Adjusted overall size to fit page width, usually without "Shrink to fit" when printing
                         - Cleaned up HTML:  consistent 2 space indents, closed tags, added quotes, script type, etc.
         05/17/16 by MEF - Red text now prints black; updated tab order
                         - removed PacFORMS version at top left (already shown at bottom right)
         08/19/16 by HPH - Hide on printout: "Ulock Msg. nos."
                         - Hide: Reply function (not part of real workflow; replies are new messages)
                         - For disabled input areas with gray background, made fonts black
                         - Added Submitted/Sent at bottom in sec. 14.
         01/19/17 by MEF - Remerged MEF's 5/17/16 changes, which were missing from HPH's 8/19/16 version
                         - Hide on printout: yellow background for input, select, textarea
                         - Hide on printout: To/From ICS Position "Display List" buttons
         06-16-17 by HPH - Modified verson to PacRELEASE 4.2
         07-18-17 by HPH - Removed 50 char. limit for !PACF! record (Subject)
         08-16-17 by HPH - Changed PacRelease from 4.2 to 4.3 - no other changes made
         09-01-17 by HPH - Converting from the subroutine version for pac-read to the JS: version.
         01-09-18 by HPH - Modified obsolete tags with css class tags
         05-02-18 by HPH - Modified the value 605 to 604 on the first '#' card to be the same as other
                             new "method" files that have not special subroutine
         06-29-18 by MEF - Changed PacRelease from 4.3 to 4.4 - no other changes made


     -->

    <style>
        /* tables and default table text (border width order = Top, Right, Bottom, Left) */
        table {
            font-size: 9pt;
            font-weight: normal;
            font-family: Times New Roman, Serif;
            color: black;
            width: 100%;
            border-style: solid;
            border-color: black;
            border-collapse: collapse;
        }

        #t-wrapper {
            border-width: 1px 1px 1px 1px;
        }

        #t-msg-nbrs {
            border-width: 1px 1px 1px 1px;
        }

        #t-handling {
            border-width: 3px 3px 1px 3px;
        }

        #t-to-from {
            border-width: 1px 3px 1px 3px;
        }

        #t-msg-body {
            border-width: 1px 3px 3px 3px;
        }

        #t-action {
            border-width: 1px 1px 1px 1px;
        }

        #t-oper-use {
            border-width: 1px;
            background-color: #dddddd;
        }

        #t-sent-recv {
            border-style: none;
            background-color: #dddddd;
        }

        #t-oper-id {
            border-style: none;
            background-color: #dddddd;
        }

        #t-instructions {
            border-style: none;
        }

        #t-submit {
            border-style: none;
            width: 80%;
        }

        tr, td {
            border-style: solid;
            border-color: black;
            border-width: 1px 1px 1px 1px;
        }

            table.noborder, tr.noborder, td.noborder {
                border-style: none;
            }

        /* text */
        input, textarea {
            font-weight: bold;
        }

            input[type=text], textarea {
                font-size: 10pt;
                font-family: "Consolas", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "Monaco", "Courier New", monospace;
                color: black;
            }

        #to-pos-btn, #fm-pos-btn, #instr-btn {
            font-size: 8pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
        }

        #sub-man-btn, #sub-op-btn, #clear-btn {
            font-size: 10pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
        }

        .title-text {
            font-size: 14pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
        }

        .attrib-text {
            font-size: 8pt;
            font-weight: normal;
            font-family: Helvetica, Arial, sans-serif;
        }

        .our-msg-nbr-text {
            font-size: 9pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
        }

        .their-msg-nbr-text {
            font-size: 9pt;
            font-weight: normal;
            font-family: Helvetica, Arial, sans-serif;
            color: black;
        }

        .numblk {
            color: black;
        }

        .js-error-text {
            font-size: 10pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
        }

        .red {
            color: red;
        }

        .blue {
            color: blue;
        }

        .red-req-text {
            font-size: 9pt;
            font-weight: normal;
            font-family: Helvetica, Arial, sans-serif;
        }

        .sm-text {
            font-size: 8pt;
            font-weight: normal;
        }

        .section-title {
            font-size: 12pt;
            font-weight: bold;
            font-family: Times New Roman, Serif;
        }

        .use-sep-text {
            font-size: 9pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
        }

        .instr-text {
            font-size: 9pt;
            font-weight: normal;
            font-family: Times New Roman, Serif;
        }

        .submit-text {
            font-size: 10pt;
            font-weight: normal;
            font-family: Helvetica, Arial, sans-serif;
            color: red;
        }

        .form-ver-text {
            font-size: 8pt;
            font-weight: bold;
            font-family: Helvetica, Arial, sans-serif;
            color: black;
            text-decoration: underline;
            text-align: right
        }

        /* backgrounds */
        input, select, textarea {
            background: #ffffbb;
        }

        #tidt1, #tidt2, #tidt3, #tidt4 {
            background: #eeeeee;
        }

        .bg-gray {
            background-color: #dddddd;
        }

        .reply {
            background-color: yellow;
            display: none;
        }

        /* Fix obsolete html */
        .talignc {
            text-align: center;
            vertical-align: text-top;
        }

        .tvalignm {
            vertical-align: middle;
            background: #dddddd;
        }

        .tcolorff {
            color: #ffffff;
        }

        .hrwid {
            width: 80%
        }

        .hrsiz {
            height: 3px;
        }

        .tdwid50 {
            width: 50%;
            vertical-align: text-top;
        }

        .tdwid20 {
            width: 20%
        }
    </style>

    <style media="print">
        .header, .trailer {
            display: none;
        }

        .red {
            color: black;
        }

        input, select, textarea {
            background: none;
            color: black;
        }

        #tidt1, #tidt2, #tidt3, #tidt4 {
            color: black;
        }
    </style>

    <script>
        // <!--
        var JSid = "EOC MESSAGE FORM (which4)";
        var JSver = "JS-ver. PR-4.4-4.3, 05/02/18";
        var JShead = "Ver. PR-4.4-4.3, 05/02/18";
        var JStail = "(PR-4.4-4.3, 05/02/18)";

        fromlocal = 0;  // =0 for call to pac-read with No !OUTPOST! record; >0 if so. Reset fm pac-read.

        function lockUnlockMsg(checkbox) {
            if (checkbox.checked === 1) {
                document.getElementById('RSmsgno').disabled = false;
                document.getElementById('SRmsgno').disabled = false;
            }
            else {
                document.getElementById('RSmsgno').disabled = true;
                document.getElementById('SRmsgno').disabled = true;
            }
        }

        function emerg() {
        document.forms[0].handling[0].checked = true;
        }

        var whichway, ascii, thisurl;
        thisurl = "";
        function geturl() {
            if (thisurl !== "") { return thisurl; }
            var res = new Array(), tem = new Array();
            var a = document.URL;
            tem = a.split(/\?/);
            //  alert(a+", T0:"+tem[0]+", T1:"+tem[1]);
            a = tem[0];
            a = a.replace(/\\/g, "\/");
            res = a.split(/\//g);
            var l = res.length - 1;
            //  alert(a+", "+l+", "+res[0]+","+res[l]);
            return res[l];
        }

        function resetforms() {
        document.forms[0].reset();
            document.forms[1].reset();
            datetime(0);  // added 4/17/10
        }

        function hide_message() {
            document.getElementById('errormessage1').style.display = 'none';
        }

        function Browser() {
            var bb = navigator.appName;
            if (bb.indexOf("Microsoft") !== -1) {
                return true;
            }
            else {
                return false;
            }
        }

        function zerofill(val) {
            if (val > 9) { return "" + val; }   // Added semocolon
            return "0" + val;
        }

        function datetime(dum1)  // Parameter added 1/11/11 to update Operator send date/time
        {
            var hr, ampm;
            var Today = new Date();
            var month = zerofill(Today.getMonth() + 1);
            var year = Today.getFullYear();
            var day = zerofill(Today.getDate());
            var hr1 = Today.getHours();
            var min = zerofill(Today.getMinutes());
            /*
                     if (hr1 >12)
                      { hr = hr1 - 12;
                        ampm = " PM";
                      } else
                      { hr = hr1;
                        ampm = " AM";
                      }
            */
            hr1 = zerofill(hr1);
            var dat = month + "/" + day + "/" + year;
            var tim = hr1 + min;
            if (dum1 === 0) {
            document.forms[0].date.value = dat;
                document.forms[0].time.value = tim;
            } else
                if (dum1 === 1) {
                document.forms[0].odate.value = dat;
                    document.forms[0].otime.value = tim;
                } else
                    if (dum1 === 2) {
                    document.forms[0].odate.value = "";
                        document.forms[0].otime.value = "";
                    }
        }
        var treply = 0;  //  If =1 prevents doing the ] thing in the reply mode
        function trim(strval)              // Trims leading and trailing blanks
        {
            if (treply === 0) {
                strval = strval.replace(/\`\]/g, "\x87");  // New - temp.  PEH added semicolon
                strval = strval.replace(/\]/g, "`]");     // New
                strval = strval.replace(/\x87/g, "``]");  // New
            }
            strval = strval.replace(/\s*$/, "");
            strval = strval.replace(/^\s*/, "");
            strval = strval.replace(/\`$/, "` ");  // adds a last backtick with backtick blank
            return strval;
        }

        function wrap(inStr, cols) {
            var i, n, itot, str, res, cvt;
            words = new Array;
            if (inStr === "") { return inStr; }
            if (cols < 0) {
                cols = Math.abs(cols);
                //       inStr = inStr.replace(/%BF/g, "%37BF");  // removes %BF typed by user NEW
                //       inStr = inStr.replace(/\n/g,"\xBF");   // Inverted ?
                inStr = inStr.replace(/\n/g, "\\n");      //NEW
                inStr = inStr.replace(/\r/g, "");
                //       inStr = "\xBF"+inStr;                  // Inverted ?
                inStr = "\\n" + inStr;                    // NEW
            } else {
                inStr = inStr.replace(/\n|\r/g, " ");
            }
            words = inStr.split(" ");
            iwd = words.length;
            n = inStr.length;
            i = 0;
            k = 0;
            res = "";
            blk = "";
            itot = 0;
            for (i = 0; i < iwd; i++) {
                if (itot >= cols) {
                words[i] = words[i] + "\n";
                    itot = 0;
                }
                itot = itot + words[i].length + 1;
                res = res + blk + words[i];
                blk = " ";
            }
            return res;
        }

        var itot;
        function unwrap(str, msg) {
            var i, n, nl, iwd, k;
            words = new Array;
            icols = msg.cols;
            irows = msg.rows;
            str = str.replace(/\xBF/g, "\\n");  // Converts all inverted ? to \n from old versions, 7/23/13
            str = str.replace(/\\n/g, "\n");
            //      str = str.replace(/%37/g, "%");     // NEW
            if (str.charAt(0) === "\n")      // Removes inverted \n at 1st Chr.
            { str = str.substring(1); }
            parl = countlines(str);
            tsl = str.length;
            nrows = Math.ceil(tsl / icols);
            words = str.split(" ");
            iwd = words.length;
            n = str.length;
            //    if (n <= icols) { return inStr }
            i = 0;
            k = 0;
            nl = 0;
            res = "";
            itot = 0;
            for (i = 0; i < iwd; i++) {
                if (itot >= icols) {
                    nl++;
                    itot = 0;
                }
                itot = itot + words[i].length + 1;
            }
            itot = nl + parl + 1;
            if (nrows > itot) { itot = nrows; }
            //  alert(nl+" "+parl+" "+irows+" "+icols+" "+nrows )
            str = str.replace(/\n/g, "\r\n");
            if (itot > irows) { msg.rows = itot; }
            return str;
        }

        function countlines(inStr) {
            var i, n, m;
            n = 0;
            i = 0;
            m = inStr.indexOf("\n", n);
            while (m >= 0) {
                i++;
                n = m + 1;
                m = inStr.indexOf("\n", n);
            }
            return i;
        }

        function out(win, text, param) {
            var str, val;
            if (param === "") { return; }
            str = text + ": [" + param + "]\n";
            if (whichway === 0) {
                win.document.write(str);
            } else {
                ascii += str;
            }
        }

        function radio(win, param, text, max) {
            var i, val, j;
            j = 0;
            for (i = 0; i < max; i++) {
                if (param[i].checked) {
                    val = param[i].value;
                    out(win, text, val);
                    j = 1;
                }
            }
            if (j === 0) { out(win, text, ""); }    // Addded semicolon
        }

        function fradio(param, max) {
            var i, val, j;
            j = 0;
            for (i = 0; i < max; i++) {
                if (param[i].checked) {
                    val = param[i].value;
                    j = 1;
                }
            }
            if (j === 0) { val = ""; }
            return val;
        }

        function fdropdown(param) {
            var indx, val;
            indx = param.selectedIndex;
            val = param.options[indx].value;
            return val;
        }

        function testvalues() {
            var str;
            str = "";
            if (Fmsgno === "") { str = "Enter a Message Number."; }
            if (Fsever === "") { str = str + "\n Indicate Situation Severity."; }
            if (Fhandling === "") { str = str + "\n Indicate Msg. Handling Order."; }
            if (Ftopos === "") { str = str + "\n Enter a To position."; }
            if (Ffmpos === "") { str = str + "\n Enter a From position."; }
            if (Ftoloc === "") { str = str + "\n Enter a To Location."; }
            if (Ffmloc === "") { str = str + "\n Enter a FROM Location."; }
            if (Fsubject === "") { str = str + "\n Enter a Subject."; }
            if (Fmsg === "") { str = str + "\n You must include a Message."; }
            //   if (Frecsent == "") { str=str+"\n Check whether Message is Received or Sent."; }
            //   if (Fmode == "") { str=str+"\n Check mode Receiving or Sending Message."; }
            if (str === "") {
                return true;
            } else {
                datetime(2);
                alert(str);
                return false;
            }
        }
        function checkbox(param) {
            if (param) {
                return "checked";
            } else {
                return "";
            }
        }

        function helpwin() {
            HelpWin = window.open("", null, "height=600,width=700,status=yes,toolbar=yes,menubar=yes,location=no,scrollbars=yes,resizable=yes");
            HelpWin.document.write("<" + "html>\n<" + "head>\n<" + "title>Message Form Instructions<" + "/title>\n" +
                "<s" + "tyle type=\"text/css\">\n" +
                "  body  { font-family: Helvetica, Arial, san-serif; }\n" +
                "  .red  { color: red; }\n" +
                "  .blue { color: blue; }\n" +
                "</s" + "tyle>\n" +
                "<s" + "cript language=\"JavaScript\">\n" +
                "  function closMe() { self.close() }\n" +
                "</s" + "cript>\n" +
                "</h" + "ead>\n" +
                "<b" + "ody bgcolor=\"#ffffff\">\n" +
                "<center>\n" +
                "<h2>INSTRUCTIONS FOR USING THE MESSAGE FORM</h2<br>\n" +
                "<h4 class=\"red\">RED Areas Required</font></h4>\n" +
                "</center>\n" +
                "<ol>\n" +
                "<li><b>Date and Time:</b>  When receiving or sending any message, complete the date and time (in the format shown) in the top upper left of the form.</li>\n" +
                "<li><b>When Receiving Message:</b>  note the sending organization's message number in the box labeled \"When Receiving Msg.\", located to the left of the Msg. # at the top right of the message form. <i>(Normally entered by radio operator)</i>\n" +
                "<li><b>When Sending Message:</b>  obtain the receiving organization's message number, and record this in the \"When Sending Msg.\" box located to the right of the Msg. # at the top right of the message form. <i>(Normally entered by radio operator)</i>\n" +
                "<li><span class=\"red\"><b>Situation Severity:</b></span>  indicate the Severity of the message - For example, is it a life threat, a property threat, or just information?\n" +
                "<li><span class=\"red\"><b>Message Handling Order:</b></span>  indicate the handling order of the message, (Immediate: As Soon As Possible; Priority: Less than an Hour; Routine: More Than an Hour).\n" +
                "<li><b>Message Requests You To:</b>  state what the message type is - for example: is the sender expecting the county OES to \"Take Action\", to \"Reply\", or  \"For Your Information\".\n" +
                "<li><span class=\"red\"><b>TO:  ICS Position:</b></span>  state the ICS position to which the  message\n"
                + " is to be delivered. This will generally be <i>Command</i>, or one of the Section Chiefs\n"
                + " (e.g.,<i> Operations, Planning, Logistics, Finance/Admin.</i>). If unsure, address the message to\n"
                + " <i>Planning.</i> &nbsp; <span class=\"blue\">NOTE: If you click on the <i>Display Dropdown List</i>, a dropdown list will appear, \n"
                + "that allows you to select an ICS position.  When selected, the dropdown will go back to the single text field,\n"
                + " and the selected ICS Position will be copied to the single text field.</span>\n" +
                "<li><span class=\"red\"><b>From: ICS Position:</b></span>  indicate what ICS position is sending the message - you also can note a name, but an ICS position is needed since the person staffing the position may change.\n" +
                " <span class=\"blue\">NOTE: See NOTE in blue in Item 7 above.  That instruction applies here also.</span>\n" +
                "<li><span class=\"red\"><b>Locations:</b></span>  enter the location of the addressee in the <b>\"To\"</b> box and the location of the sender in the <b>\"From\"</b> box  (for example, To: Mountain View EOC, From: Santa Clara County EOC).\n" +
                "<li><b>Subject:</b>  Note the subject of the message (e.g., Request for Type 5 Engine Strike Team).\n" +
                "<li><b>Reference:</b>  If the message is a response to an earlier message, indicate the original message number if available.\n" +
                "<li><span classr=\"red\"><b>Message:</b></span>  If the message is a request for support, supply detailed instructions about what, when, and where the support is to be delivered. Be as brief as possible.\n" +
                "<li><b>Action Taken:</b>  This section is for use of the message originator or recipient to record pertinent information regarding action taken in response to the message. (e.g., \"Request for Type 5 Engine Strike Team passed to Region on OASIS Net.\"). Space is also provided to indicate copy to other ICS positions that may need the information.\n" +
                "<li><b>Operator Use:</b>  The person who handled the message is to record the net used in the area at the bottom of the message form and records the name and call sign in the appropriate box. If the message is being sent, the date and time that the message actually was sent is to be noted in the relevant box.\n" +
                "<li><b>Forms Disposition:</b> Once the message is complete, copies of the message are distributed according to the script shown. If the message is an <b><u>EMERGENCY</u></b> message, it should be placed in the hands of the shift supervisor. For other messages, it is permissible to place the message in the appropriate message box slot.\n" +
                "</ol>\n" +
                "<p><center>\n<a href=\"JavaScript:closMe()\">Close Window</a>\n</center>\n" +
                "</body>\n" +
                "</html>\n");
            HelpWin.document.close();
        }

        function gatherdata() {
            document.forms[1].formtext.value = ascii;
            return;
        }

        function poundstuff() {
            var reqStr = "!PACF! " + pacf + "\n" + "# JS:" + JSid + " \n" + "# " + JSver + "\n" +
                "# FORMFILENAME: " + geturl() + "\n";
            return reqStr;
        }

        var pacf = "";
        function newwin(theway) {
            datetime(1);
            whichway = theway;
            FRSmsgno = trim(document.forms[0].RSmsgno.value); // TEXT
            Fmsgno = trim(document.forms[0].msgno.value); // TEXT
            FSRmsgno = trim(document.forms[0].SRmsgno.value); // TEXT

            FRSmsgno = FRSmsgno.toUpperCase();
            Fmsgno = Fmsgno.toUpperCase();
            FSRmsgno = FSRmsgno.toUpperCase();

            Fdate = trim(document.forms[0].date.value); // TEXT
            Finfo = checkbox(document.forms[0].info.checked); // CHECKBOX VALUE: info
            Ftime = trim(document.forms[0].time.value); // TEXT
            Fsever = fradio(document.forms[0].sever, 3);
            Fhandling = fradio(document.forms[0].handling, 3);
            //Ftayn = fradio(document.forms[0].tayn,2);
            //Freplyyn = fradio(document.forms[0].replyyn,2);
            Freplyby = trim(document.forms[0].replyby.value); // TEXT
            Ftopos = trim(document.forms[0].topos.value); // TEXT
            Ffmpos = trim(document.forms[0].fmpos.value); // TEXT
            Ftoloc = trim(document.forms[0].toloc.value); // TEXT
            Ffmloc = trim(document.forms[0].fmloc.value); // TEXT
            Ftoname = trim(document.forms[0].toname.value); // TEXT
            Ffmname = trim(document.forms[0].fmname.value); // TEXT
            Ftotel = trim(document.forms[0].totel.value); // TEXT
            Ffmtel = trim(document.forms[0].fmtel.value); // TEXT
            Fsubject = trim(document.forms[0].subject.value); // TEXT
            Freference = trim(document.forms[0].reference.value); // TEXT
            Fmsg = trim(document.forms[0].msg.value); // TEXTAREA
            Fmsg = wrap(Fmsg, -50);
            Faction = trim(document.forms[0].action.value); // TEXTAREA
            Faction = wrap(Faction, -50);
            Fmgt = checkbox(document.forms[0].mgt.checked); // CHECKBOX
            Fops = checkbox(document.forms[0].ops.checked); // CHECKBOX
            Fplan = checkbox(document.forms[0].plan.checked); // CHECKBOX
            Flog = checkbox(document.forms[0].log.checked); // CHECKBOX
            Ffin = checkbox(document.forms[0].fin.checked); // CHECKBOX
            Frecsent = fradio(document.forms[0].recsent, 2);
            Fmode = fradio(document.forms[0].mode, 7);

            // Next 5 lines are for added info after !PACF!
            d = "ICS213";
            a = Fmsgno.substring(0);
            b = Fsever.substring(0, 1);
            c = Fhandling.substring(0, 1);
            pacf = a + "_" + b + "/" + c + "_" + d + "_" + Fsubject;
            //
            if (whichway === 1) {
                ascii = poundstuff();
                NewWin = 0;
            } else {
                if (!testvalues()) { return; }

                NewWin = window.open("", null, "height=600,width=700,status=yes,toolbar=yes,menubar=yes,location=no,scrollbars=yes,resizable=yes");
                NewWin.document.write("<h" + "tml>");
                NewWin.document.write("<h" + "ead>\n");
                NewWin.document.write("<title>EOC Message Form</title>\n");
                var bbb = Browser();
                if (bbb) {
                    NewWin.document.write('<S' + 'CRIPT LANGUAGE="JavaScript" type="text/javascript">\n');

                    NewWin.document.write("function ClipBoard()\n");
                    NewWin.document.write(" { \n");
                    NewWin.document.write("   holdtext.innerText = copytext.innerText; \n");
                    NewWin.document.write("   Copied = holdtext.createTextRange(); \n");
                    NewWin.document.write('   Copied.execCommand("Copy"); \n');
                    NewWin.document.write(" } \n");

                    NewWin.document.write("</S" + "CRIPT> \n");
                }
                NewWin.document.write("</h" + "ead> \n");
                if (bbb) {
                    NewWin.document.write('<b' + 'ody  bgcolor="#ffffff" onLoad="ClipBoard()">\n');
                    NewWin.document.write('<SPAN ID="copytext" STYLE="background-color:lightblue">\n');
                    NewWin.document.write('<TEXTAREA ID="holdtext" STYLE="display:none;"> </TEXTAREA>\n');
                }
                else {
                    NewWin.document.write('<b' + 'ody>\n');
                }
                NewWin.document.write("<pre>\n");
                NewWin.document.write("!PACF! " + pacf + "\n# JS:" + JSid + " \n");
                NewWin.document.write("# " + JSver + "\n");
                NewWin.document.write("# FORMFILENAME: " + geturl() + "\n");

            }  // end of else loop where whichway == 0
            //
            listels();

            if (whichway === 0) {
                NewWin.document.write("#EOF\n");
            } else {
                ascii += "#EOF\n";
                gatherdata();
                return;
            }
            //
            NewWin.document.write("</pre>\n");
            if (bbb) { NewWin.document.write("</SPAN>"); }
            NewWin.document.write("</body>");
            NewWin.document.write("</html>");
            NewWin.document.close();
        }
        //
        var qsParm = new Array();
        var qsVal = new Array();
        var qsN;
        function qs() {
            var n = 0;
            var query = window.location.search.substring(1);
            // confirm("Para: "+query);
            query = query.replace(/%20/g, "");
            var leng = query.length;
            // alert("Query="+query+", "+leng);
            if (leng <= 1) { return; }
            var parms = query.split('&');
            qsN = parms.length;
            for (var i = 0; i < qsN; i++) {
                var pos = parms[i].indexOf('=');
                if (pos > 0) {
                    qsParm[i] = parms[i].substring(0, pos);
                    qsVal[i] = parms[i].substring(pos + 1);
                    qsVal[i] = decodeURI(qsVal[i]);
                    qsVal[i] = qsVal[i].replace(/\+/g, " ");
                }
            }
            assignq();
        }

        function assignq() {
            var i, j, dum;

            for (i = 0; i < qsN; i++) {
                if (!document.forms[0][qsParm[i]]) {
                    alert(">>> Form Field name \'" + qsParm[i] + "\' does NOT exist.");
                }
                else {
                    document.forms[0][qsParm[i]].value = qsVal[i];
                    alert("i: " + i + " qsParm[i]: " + qsParm[i] + " qsVal[i]: " + qsVal[i]);
                }
            }
        }

        var ttoggle = 0;
        var ftoggle = 0;
        function ToSwitch() {
            if (ttoggle === 0) {
                document.getElementById("tonorm").style.display = "none";
                document.getElementById("todrop").style.display = "block";
                document.forms[0].toposbtn.value = "Manual Entry";
                document.forms[0].toposdd[0].selected = true;
                ttoggle = 1;
            }
            else {
                document.getElementById("tonorm").style.display = "block";
                document.getElementById("todrop").style.display = "none";
                document.forms[0].toposbtn.value = "Display List";
                ttoggle = 0;
            }
            return false;
        }

        function tbacktonorm() {
            var dum = document.forms[0].toposdd.value;
            document.forms[0].topos.value = dum;
            document.forms[0].toposbtn.value = "Manual Entry";
            ToSwitch();
        }

        function FmSwitch() {
            if (ftoggle === 0) {
                document.getElementById("fmnorm").style.display = "none";
                document.getElementById("fmdrop").style.display = "block";
                document.forms[0].fmposbtn.value = "Manual Entry";
                document.forms[0].fmposdd[0].selected = true;
                ftoggle = 1;
            }
            else {
                document.getElementById("fmnorm").style.display = "block";
                document.getElementById("fmdrop").style.display = "none";
                document.forms[0].fmposbtn.value = "Display List";
                ftoggle = 0;
            }
            return false;
        }

        function fbacktonorm() {
            var dum = document.forms[0].fmposdd.value;
            document.forms[0].fmpos.value = dum;
            document.forms[0].fmposbtn.value = "Manual Entry";
            FmSwitch();
        }

        function custom() {
            document.forms[0].recsent[1].checked = true;
            document.forms[0].mode[6].checked = true;
            document.forms[0].other.value = "Packet";
            qs(); // Do Not remove this function call. Used by Outpost to pass data.
            num = document.forms[0].msgno.value;
            if (num === "$$") { writeels(); }
        } //End Custom
        //
        function testreply() {
            if (fromlocal > 0) {
                document.getElementById("senddt").style.display = "none";
                document.getElementById("outpostdt").style.display = "block";
            }
            return;
        }

        //  Displays all form field values as a disagnostice tool
        function writeels() {
            var n, typ, val, nam, str, lb, i;

            n = document.forms[0].elements.length;
            javascript: void window.open();     // Removed extra ()
            Ele = window.open("", null, "height=600,width=700,status=yes,toolbar=yes,menubar=yes,location=no,scrollbars=yes,resizable=yes");
            Ele.document.write("<" + "html>\n" + "<head>\n<title>Element List</title>\n</head>\n");
            Ele.document.write("<" + "body>\n<b>ELEMENT LIST for " + geturl() + "<p>Ele. Index, Type, Name, Value</b><p>");
            for (i = 0; i < n; i++) { //lb = String.fromCharCode(163); // English pound sign - to flag select index
                lb = "}";
                typ = document.forms[0].elements[i].type;
                nam = document.forms[0].elements[i].name;
                val = document.forms[0].elements[i].value;
                str = i + ",  " + typ + ", &nbsp; " + nam + ",  &nbsp; " + val + ", &nbsp; ";
                if (typ === "radio" || typ === "checkbox") {
                    chk = document.forms[0].elements[i].checked;
                    str = str + "[" + chk + "], ";
                }
                if (typ === "select-one") {
                    indx = document.forms[0].elements[i].selectedIndex;
                    str = str + lb + indx;
                }
                str = str + ",<br>";
                Ele.document.write(str);
            }
            Ele.document.write("</body>\n</html>\n");
            Ele.document.close();
        }

        var inl = new Array();
        var inr = new Array();

        function outels()   //  Used to fill form fields by pac-read
        {
            var inn, typ, val, indx, nam, chk, nidx, k, lb;
            var dum = new Array();
            lbo = String.fromCharCode(163);
            lb = "}";
            inn = inl.length;
            // alert(inn+" "+inl[0]+" "+ inl[1]);
            for (i = 0; i < inn; i++) {
                k = inl[i];
                typ = document.forms[0].elements[k].type;
                nam = document.forms[0].elements[k].name;
                if (typ === "radio" || typ === "checkbox") {
                    document.forms[0].elements[k].checked = inr[i];
                }
                else if (typ === "text" || typ === "hidden") {
                    document.forms[0].elements[k].value = inr[i];
                }
                else if (typ === "textarea") {
                    ms2 = unwrap(inr[i], document.forms[0].elements[k]);
                    document.forms[0].elements[k].value = ms2;
                }
                else if (typ === "select-one") {
                    if (inr[i].indexOf(lbo) > -1) { lb = lbo; }
                    dum = inr[i].split(lb);
                    indx = dum[1];
                    document.forms[0].elements[k].selectedIndex = indx;
                }
            }
            testreply();
        }

        function listels()  //  Writes ASCII file when  form is submitted to send to pac-read.
        {
            var n, typ, val, indx, nam, chk, nidx, k, lb;
            n = document.forms[0].elements.length;
            // lb = String.fromCharCode(163); // English pound sign - to flag select index
            lb = "}";
            //  yen = String.fromCharCode(165); // Yen sign to flag odate or otime parameter
            yen = "{";
            for (i = 0; i < n; i++) {
                typ = document.forms[0].elements[i].type;
                nam = document.forms[0].elements[i].name;
                if (typ === "radio" || typ === "checkbox") {
                    chk = document.forms[0].elements[i].checked;
                    out(NewWin, i, chk);
                    //            test=chk+" "+typ+" "+nam;
                    //            out(NewWin,i,test);
                }
                else if (typ === "button") {
                    continue;       // Button will not show in Ascii file.
                }
                else {
                    val = document.forms[0].elements[i].value;
                    if (typ === "text" || typ === "textarea" || typ === "hidden") {
                        val = trim(val);
                        if (nam === "odate" || nam === "otime") {
                            val = val + yen + nam;
                        }
                    }
                    if (typ === "textarea") {
                        val = wrap(val, -50);
                    }
                    if (typ === "select-one") {
                        indx = document.forms[0].elements[i].selectedIndex;
                        val = val + lb + indx;
                    }
                    out(NewWin, i, val);
                }
            }
            if (document.forms[0].msgno.value === "$$") {
                writeels();
            }
        }


        // -->
    </script>
    <script src="js/AddedForWebView.js"></script>

    <!-- PART1 -->
</head>
<body class="tcolorff" onLoad="hide_message(); datetime(0); custom();">
<!-- PART2 -->
<center>

<form name="theForm" >

<!-- Main table surrounding form -->
<table id="t-wrapper">
  <tr><td>

    <!-- Top Row (Titles, Message Numbers) -->
    <table  id="t-msg-nbrs">
      <tr>
        <!-- Form Name/Version Info -->
        <td rowspan="2" class="talignc" >
          <span class="title-text">EOC MESSAGE FORM</span><br>
          <div class="header">
            <span class="attrib-text">PacFORMS adaption of SCCo ICS Form 213<br>
            <script>
                document.write(JShead);
            </script>
            &nbsp; By Phil Henderson, KF6ZSQ<br>
            (This form works with Outpost/OpDirect for Automatic ASCII text save)</span><br>
            <div id="errormessage1" class="talignc">
              <p>&nbsp;</p><p>&nbsp;</p><hr style="color:red; border-width:3px;">   
                <span class="js-error-text red">JAVASCRIPT IS NOT ENABLED IN THIS BROWSER.<br>
                THIS FORM WILL NOT WORK WITHOUT JAVASCRIPT ENABLED.</span>
                <hr class="red; hrsiz"><p>&nbsp;</p><p>&nbsp;</p>
            </div>
            <span class="attrib-text">For Instructions using this form</span>
            <input type="button" VALUE="Click Here."  onClick="helpwin()" tabindex="1" id="instr-btn"><br>
          </div>
    <!-- PART3 -->
       </td>
        <!-- Sender's Message Number -->
        <td class="talignc">
          <span class="their-msg-nbr-text">2.) When Receiving:<br>Sender's msg. #</span><br>
          <hr>
          <input type="text" size="15" name="RSmsgno" tabindex="2" id="RSmsgno" disabled class="numblk"><br>
          <span class="sm-text header">
            <input type="checkbox" name="unlockmsg1" value="1" onclick="lockUnlockMsg(this)">
            Unlock msg. nos. 2 &amp; 3
          </span></td>
        <!-- Our Message Number -->
        <td class="talignc" >
          <span class="our-msg-nbr-text red"><b>Message #</b></span><br>
          <p><input type="text" size="15" name="msgno" tabindex="3" ></p>
          <p><span class="red-req-text red header">RED Areas Required</span></p></td>
        <!-- Receiver's Message Number -->
        <td class="talignc">
          <span class="their-msg-nbr-text">3.) When Sending:<br>Receiver's msg. #</span><br>
          <hr>
          <input type="text" size="15" name="SRmsgno" tabindex="4" id="SRmsgno" disabled class="numblk"></td>
      </tr>

    </table>

    <!-- Date/Time/Severity/Handling/Reply -->
    <table id="t-handling">
      <tr>
        <td  class="talignc">
          <b>1a.) Date: <span class="sm-text">(MM/DD/YY)</span><br>
          <input type="text" name="date" size="10" tabindex="5"></b></td>
        <td rowspan="2" >
          <b><span class="red">4.) Situation Severity </span><span class="header">(Select One)</span></b><br>
          <input type="radio" name="sever" value="EMERGENCY" tabindex="7" onClick="emerg()">
            <b>EMERGENCY</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sm-text">(e.g., Life Threat)</span><br>
          <input type="radio" name="sever" value="URGENT" tabindex="8">
            <b>URGENT</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sm-text">(e.g., Property Threat)</span><br>
          <input type="radio" name="sever" value="OTHER" tabindex="9">
            <b>OTHER</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sm-text">(All Others)</span><br></td>
        <td rowspan="2" >
          <b><span class="red">5.) Msg. Handling Order </span><span class="header">(Select One)</span></b><br>
          <input type="radio" name="handling" value="IMMEDIATE" tabindex="10">
            <b>IMMEDIATE</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sm-text">(As Soon as Possible)</span><br>
          <input type="radio" name="handling" value="PRIORITY" tabindex="11">
            <b>PRIORITY</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sm-text">(Less Than One Hour)</span><br>
          <input type="radio" name="handling" value="ROUTINE" tabindex="12">
            <b>ROUTINE</b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sm-text">(More Than One Hour)</span><br></td>
        <td rowspan="2"><b>6.) Message Requests You to:</b><br>
          &nbsp;<b>TAKE ACTION</b><span class="header"> (Check one)</span><br>
            &nbsp;&nbsp;<input type="radio" name="tayn" value="Yes" tabindex="13"><b>Yes</b>
            &nbsp;&nbsp;<input type="radio" name="tayn" value="No" tabindex="14"><b>No</b><br>
          &nbsp;<b>REPLY</b><span class="header"> (Check one)</span><br>
            &nbsp;&nbsp;<input type="radio" name="replyyn" value="Yes" tabindex="15"><b>Yes, by</b>
            <input type="text" name="replyby" size="18" tabindex="16">&nbsp;
            <input type="radio" name="replyyn" value="No" tabindex="17"><b>No</b><br>
          <input type="checkbox" name="info" value="info" tabindex="18">
            <b>FOR YOUR INFO.</b><br>
            <span class="header">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(No action required)</span></td>
      </tr>
      <tr>
        <td class="tdwid20; talignc"><b>1b.) Time: <span class="sm-text">(24 hr. time)</span></b><br>
          <input type="text" name="time" size="6" tabindex="6"><br>
          <span class="sm-text header">0001 to 2400<br>2:00 PM = (2+12)=1400 Hrs.</span></td>
      </tr>
    </table>

    <!-- To/From Addresses -->
    <table id="t-to-from">
      <tr>
        <td rowspan="4" class="tvalignm"><b>To:</b></td>
        <td class="noborder" ><b><span class="red">7.) ICS Position: </span><span class="header">(required)</span><br>
          <center ><input type="button" onClick="ToSwitch();" id="to-pos-btn" name="toposbtn" value="Display List" tabindex="19" class="header"></center></b></td>
        <td class="noborder" >
          <span ID="tonorm" style="display:block;">
            <input type="text" name="topos" size="28" tabindex="21">
          </span>
          <span ID="todrop" style="display:none;">
            <select name="toposdd" onChange="tbacktonorm()" tabindex="20">
              <option value=" " selected>Choose One</option>
              <option value="Incident Commander">Incident Commander</option>
              <option value="Operations">Operations</option>
              <option value="Planning">Planning</option>
              <option value="Logistics">Logistics</option>
              <option value="Finance/Admin.">Finance/Admin.</option>
              <option value="Public Info. Officer">Public Info. Officer</option>
              <option value="Liaison Officer">Liaison Officer</option>
              <option value="Safety Officer">Safety Officer</option>
            </select>
          </span></td>
        <td rowspan="4" class="tvalignm"><b>From:</b></td>
        <td class="noborder" ><b><span class="red">8.) ICS Position: </span><span class="header">(required)</span>
          <center><input type="button" onClick="FmSwitch();" id="fm-pos-btn" name="fmposbtn" value="Display List" tabindex="25" class="header"></center></b></td>
        <td class="noborder" >
          <span ID="fmnorm" style="display:block;">
            <input type="text" name="fmpos" size="28" tabindex="27">
          </span>
          <span ID="fmdrop" style="display:none;">
            <select name="fmposdd" onChange="fbacktonorm()" tabindex="26">
              <option value=" " selected>Choose One</option>
              <option value="Incident Commander">Incident Commander</option>
              <option value="Operations">Operations</option>
              <option value="Planning">Planning</option>
              <option value="Logistics">Logistics</option>
              <option value="Finance/Admin.">Finance/Admin.</option>
              <option value="Public Info. Officer">Public Info. Officer</option>
              <option value="Liaison Officer">Liaison Officer</option>
              <option value="Safety Officer">Safety Officer</option>
            </select>
          </span></td></tr>
      <tr>
        <td class="noborder" ><b><span class="red">9a.) Location: </span><span class="header">(required)</span></b></td>
        <td class="noborder"><input type="text" name="toloc" size="28" tabindex="22" autocomplete="on"></td>
        <td class="noborder" ><b><span class="red">9b.) Location: </span><span class="header">(required)</span></b></td>
        <td class="noborder"><input type="text" name="fmloc" size="28" tabindex="28" autocomplete="on"></td></tr>
      <tr>
        <td class="noborder" ><b>Name: <span class="header">(optional)</span></b></td>
        <td class="noborder"><input type="text" name="toname" size="28" tabindex="23"></td>
        <td class="noborder" ><b>Name: <span class="header">(optional)</span></b> </td>
        <td class="noborder"><input type="text" name="fmname" size="28" tabindex="29"></td></tr>
      <tr>
        <td class="noborder" ><b>Telephone #: <span class="header">(optional)</span></b></td>
        <td class="noborder" ><input type="text" name="totel" size="28" tabindex="24"></td>
        <td class="noborder" ><b>Telephone #: <span class="header">(optional)</span></b></td>
        <td class="noborder" ><input type="text" name="fmtel" size="28" tabindex="30"></td></tr>
    </table>

    <!-- Subject/Reference/Message -->
    <table id="t-msg-body">
      <tr>
        <td>
          <p><b><span class="red">10.) SUBJECT: </span></b>&nbsp;
            <input type="text" name="subject" size="80" tabindex="31" ></p>
          <p style="white-space:nowrap"><b>11.) REFERENCE (e.g., Number of earlier msg.): </b>&nbsp;
            <input type="text" name="reference" size="55" tabindex="32"></p>
          <p><b><span class="red">12.) Message </span>(what, when, where needed; how long; contact name and phone number) KEEP MSG BRIEF</b><br>
            <textarea rows="6" cols="85" wrap="hard" name="msg" tabindex="33"></textarea></p></td></tr>
    </table>

    <!-- Action Taken -->
    <table id="t-action">
      <tr class="bg-gray">
        <td><span class="section-title">13.) Action Taken:</span>&nbsp;&nbsp;
          <span class="sm-text">(For use by Originator / Recipient)</span>
          <span class="use-sep-text">&nbsp;&#10148;&nbsp;USE SEPARATE MESSAGE FORM IF SENDING REPLY!</span></td></tr>
      <tr>
        <td><textarea rows="3" cols="85" wrap="soft" name="action" tabindex="34"></textarea></td></tr>
      <tr>
        <td>
          <b>CC: <input type="checkbox" name="mgt" value="Yes" tabindex="35"> Management &nbsp; &nbsp; &nbsp;
          <input type="checkbox" name="ops" value="Yes" tabindex="36"> Operations &nbsp; &nbsp; &nbsp;
          <input type="checkbox" name="plan" value="Yes" tabindex="37"> Planning &nbsp; &nbsp; &nbsp;
          <input type="checkbox" name="log" value="Yes" tabindex="38"> Logistics &nbsp; &nbsp; &nbsp;
          <input type="checkbox" name="fin" value="Yes" tabindex="39"> Finance</b></td></tr>
    </table>

    <!-- Operator Use Only -->
    <table id="t-oper-use">
      <tr>
        <td colspan="2">
          <span class="section-title">14.) Operator Use Only</span></td></tr>
      <tr class="noborder">
        <!-- Sent/Received Method -->
        <td class="tdwid50">
          <b>&nbsp;&nbsp;How Received</b><input type="radio" name="recsent" value="Received" tabindex="40">
          <b>or Sent</b><input type="radio" name="recsent" value="Sent" tabindex="41">&nbsp;<span class="header">(Check one here, one below)</span><br>
          <table id="t-sent-recv">
            <tr class="noborder">
              <td class="noborder">
                <input type="radio" name="mode" value="Telephone" tabindex="42"><b>Telephone</b><br>
                <input type="radio" name="mode" value="EOC Radio" tabindex="43"><b>EOC Radio</b><br>
                <input type="radio" name="mode" value="Amateur Radio" tabindex="44"><b>Amateur Radio</b></td>
              <td class="noborder">
                <input type="radio" name="mode" value="Dispatch Center" tabindex="45"><b>Dispatch Center</b><br>
                <input type="radio" name="mode" value="FAX" tabindex="46"><b>FAX</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="radio" name="mode" value="Courier" tabindex="47"><b>Courier</b><br>
                <input type="radio" name="mode" value="Other" tabindex="48"><b>Other</b>
                <input type="text" name="other" size="20" tabindex="49"></td></tr>
          </table></td>
        <!-- Operator ID Info -->
        <td class="tdwid50">
          <table id="t-oper-id">
            <tr class="noborder">
              <td class="noborder" ><b>Operator Call Sign:</b></td>
              <td class="noborder">&nbsp;<input type="text" name="ocall" size="12" tabindex="50"></td></tr>
            <tr class="noborder">
              <td class="noborder" ><b>Operator Name:</b></td>
              <td class="noborder">&nbsp;<input type="text" name="oname" size="30" tabindex="51"></td></tr>
          </table>
  <!--
      <tr><td>&nbsp;<td><td> &nbsp;<input type="hidden" name="odisp"></td></tr>
  -->
          <!-- Operator Date/Time Info -->
          <div id="senddt" style="display:block;">
            <table class="noborder bg-gray">
              <tr class="noborder">
                <td class= "noborder" >
                  <b>Date:&nbsp;</b><input type="text" name="odate" size="10" tabindex="52" disabled id="tidt1">&nbsp;
                  <b>Time:&nbsp;</b><input type="text" name="otime" size="6" tabindex="53" disabled id="tidt2">&nbsp;&nbsp;<b>(Updated at Submit)</b></td></tr>
            </table>
          </div>
          <div id="outpostdt" style="display:none;">
            <table class="noborder bg-gray">
              <tr class="noborder">
                <td class="noborder" >
                  <b>Date:&nbsp;</b><input type="text" name="ordate" size="10" tabindex="52" disabled id="tidt3">&nbsp;
                  <b>Time:&nbsp;</b><input type="text" name="ortime" size="6" tabindex="53" disabled id="tidt4">&nbsp;&nbsp;<b>(Received in Outpost)</b></td></tr>
            </table>
          </div></td></tr>
        </table>

  </td></tr>
</table>

<!-- Instructions -->
<table id="t-instructions" class="instr-text">
  <tr class="noborder">
    <td class="noborder">
      <b><u>Outgoing (Sent):</u></b><br>
      <b>Message Originator:</b> Send the top copy (white) to RADIO, yellow to PLANNING, retain the pink copy for your reference.<br>
      <b>Radio:</b> After sending, complete Action Taken info. in gray area, retain white copy for file in RADIO.<br>
      <b><u>Incoming (Received):</u></b><br>
      <b>Radio:</b> After receiving, complete Action Taken info., route top copy (white) to the Addressee, yellow to PLANNING;
        retain pink for file in RADIO.<br>
      <b>Addressee:</b> Take approriate action.<br>
      <div class="form-ver-text">SCCo ICS Form 213, 6/28/2007;
        <script>
          document.write(JStail);
        </script></div>
      </td></tr>
</table>

<!-- PART3.1 -->
<!--  Addition for saving to Outpost -->
</form>

<div class="trailer">
  <form name="submitmachine" method="post" action="http://127.0.0.1:9334/send" onSubmit="return testvalues()">
    <hr class="hrwid">
    <table id="t-submit">
      <tr class="noborder"><td class="noborder">
        <div class="submit-text">
          <p>Below you will see two SUBMIT buttons.  The one on the left, when Submitted, will
            open a new window with the ASCII text so you can manually capture, copy, paste and
            save the text.  Follow instructions in red in that window.</p>
          <p>The SUBMIT button to the right will automatically transfer the ASCII text extracted
            from the form to the Outpost database via via OpDirect.
            OpDirect must be running to make this work or nothing is saved.</p>
        </div>
      </td></tr>
    </table>
    <hr class="hrwid">
    <input type="button" VALUE="SUBMIT Message Form: Manual Copy & Save" onClick="newwin(0)" tabindex="54" id="sub-man-btn">
    <input type="hidden" name="formtext" value="snafutextnotchanged">
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    <input type="SUBMIT" value="SUBMIT Message Form to Outpost" onClick="newwin(1)" tabindex="55" id="sub-op-btn">
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
    <input type="RESET" value="Clear Input" onClick="resetforms();" tabindex="56" id="clear-btn">
  </form>
</div>
</center>
</body>
</html>
<!-- PART4 -->
